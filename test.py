import webbrowser
import requests
import bs4
import urllib2
import util

# webbrowser.open('https://secure.newegg.com/Shopping/AddToCart.aspx?Submit=ADD&ItemList=9SIA6V66R23609')
# # webbrowser.open('https://secure.newegg.com/Shopping/ShoppingCart.aspx?submit=ChangeItem')

# webbrowser.open('https://secure.newegg.com/GlobalShopping/CheckoutStep1.aspx?CartID=260%2bNADFRMO5ORIRJB8&IsFromCart=1&SkippedSignIn=1')

def add_to_cart_post_req(self):
		try:
			# exmpale is N82E16814131713
			req = urllib2.Request("https://secure.newegg.com/Shopping/AddToCart.aspx?Submit=ADD&ItemList=" + self.item_id)

			req.add_header("Connection", "keep-alive")
			req.add_header("Upgrade-Insecure-Requests", "1")
			req.add_header("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36")
			req.add_header("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8")
			req.add_header("DNT", "1")
			req.add_header("Referer", "https://www.newegg.com/Product/Product.aspx?Item="+self.item_id)
			req.add_header("Accept-Encoding", "gzip, deflate, br")
			req.add_header("Accept-Language", "en-US,en;q=0.9")
			req.add_header("Cookie", "AKA_A2=1; NV%5FSPT=0-0-0; _sckey=mb2-5a1c3438db5172.81670533; _scsess=sess-2-5a1c3438db5950.58470969; s_cc=true; _ga=GA1.2.349633877.1511797813; spid=83326A4F-763C-492B-BDD1-3B57D12377A8; cid_csid=e193ef22-aec3-493e-8da9-4a1840ab5e90; s_vi=[CS]v1|2D0E19F60503160D-6000118B8000090A[CE]; s_fid=3EBE6C2F5D4613E7-1773A1047317E1D7; mt.v=2.55487920.1511797737009; NV%5FCOUNTRY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Value%22%3A%22U%22%2C%22Exp%22%3A%221518583496%22%7D%7D%7D; cto_lwid=0dbaa869-360a-48c6-9c45-fb1a83b72d77; NVTC=248326808.0001.484724142.1511797737.1515993351.1516862152.6; _gid=GA1.2.1707240317.1516862158; sp_ssid=1516862259587; cmp=afc-c8junction; NV%5FNEWGOOGLE%5FANALYTICS=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w14%22%3A%221%22%7D%2C%22Exp%22%3A%221519455221%22%7D%7D%7D; NSC_mc-tfdvsf.ofxfhh.dpn-ttm=30dfa3dbf08cf104cc330dac40f40912fbcdd8b883515a86e48e973f30e69fe5840d12a4; NV%5FPREVIOUSSERVERNAME=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sq%22%3a%22E11SHP02%22%2c%22ss%22%3a%2263%22%2c%22sr%22%3a%22E11%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; _shcp_=9SIA6V66R23609; _shcp_pro_=9SIA6V66R23609; NV%5FDVINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22w19%22%3a%22Y%22%2c%22s81%22%3a%2243942530%22%7d%2c%22Exp%22%3a%221516948823%22%7d%7d%7d; NV%5FCERTONA=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s92%22%3a%229SIA6V66R23609%22%7d%2c%22Exp%22%3a%221516951336%22%7d%7d%7d; NV%5FCARTID=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%22198%252b5HL5CAY7BN4EDR4%22%2c%22Exp%22%3a%221516949865%22%7d%7d%7d; _gat=1; NV%5FCUSTOMERLOGIN=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sj%22%3a%220%22%2c%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22codyohlsen%2540gmail.com%22%2c%22sc%22%3a%2243942530%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22s125%22%3a%22essXUNWGEp3vp7ekAR80qt914m7C6d321SrDOZWmS657KubBWb6gwBqPIlqihgQG%22%7d%2c%22Exp%22%3a%222463549814%22%7d%7d%7d; NV%5FOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sc%22%3a%22w4%252bp1%252fVLkVpODIzC8es78p1xV3RH0hzr%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22sg%22%3a%22%252bhcBheqIl38%253d%22%2c%22se%22%3a%22VcB8TDpPCBURbnRvETKYwg%253d%253d%22%2c%22s111%22%3a%220%22%2c%22s115%22%3a%220nNMDJV3VOjhhOc68MAw6Q%253d%253d%22%2c%22sn%22%3a%224969367160267220180124231943%22%7d%2c%22Exp%22%3a%222463549814%22%7d%7d%7d; NV%5FORDERCOOKIE=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sv%22%3a%22https%253a%252f%252fwww.newegg.com%22%2c%22su%22%3a%22False%22%2c%22st%22%3a%22False%22%2c%22s104%22%3a%221%22%2c%22ShipMethods%22%3a%22%255b%257b%2522st%2522%253a2%252c%2522it%2522%253a1%252c%2522si%2522%253a%2522A6V6%2522%252c%2522vn%2522%253a%2522%2522%252c%2522sc%2522%253a%2522501%2522%252c%2522ms%2522%253atrue%257d%255d%22%2c%22s10%22%3a%220%257cUSA%22%2c%22sg%22%3a%22WA%22%2c%22se%22%3a%2298294%22%7d%2c%22Exp%22%3a%221519457014%22%7d%7d%7d; NV%5FCARTOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s126%22%3a%22sgYEL0P6ilDSFUg92qKTWWmrDvk2Vej3NStGcRFtYe%252bNBnlHxl688IFoDua6ZAM6%22%2c%22ct1%22%3a%220%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; NV%5FCARTINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%220%2bItem%2b%257c%2b%2525240.00%22%2c%22Exp%22%3a%221517469814%22%7d%7d%7d; NV%5FPRDLIST=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w32%22%3A%22g%22%2C%22wg%22%3A%2236%22%2C%22wn%22%3A%22Y%22%2C%22wl%22%3A%22BESTMATCH%22%7D%2C%22Exp%22%3A%221603265026%22%7D%7D%7D; mt.mbsh=%7B%22fs%22:1516862158356,%22sf%22:1,%22lf%22:1516865027722%7D; needlepin=N190d1511797813649474ab001622e7dd0f4387e1e3ad17e1e4606000000000000000007e1e3ad100000000000000; NV%5FCONFIGURATION=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w58%22%3A%22USD%22%2C%22wd%22%3A%221%22%2C%22w57%22%3A%22USA%22%2C%22w39%22%3A%226662%22%2C%22w61%22%3A%221543333738000%22%2C%22s93%22%3A%22en%22%7D%2C%22Exp%22%3A%221603265033%22%7D%7D%7D; NV_NVTCTIMESTAMP=1516865033; mt.visits=%7B%22lastVisit%22:1516865035364,%22visits%22:%5B1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0%5D%7D; NV%5FTHIRD%5FPARTY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22wu%22%3A%22https%253A%252F%252Fwww.newegg.com%252FProduct%252FProductList.aspx%253FSubmit%253DENE%2526N%253D100007709%2B4814%2B601201888%2B601203793%2B601204369%2B601296707%2B601301599%2526IsNodeId%253D1%2526cm%255Fsp%253DCat%255Fvideo-Cards%255F1-%255F-Visnav-%255F-Gaming-Video-Cards%255F1%22%2C%22wx%22%3A%22jcu4qi4m87011rh100053%22%2C%22ww%22%3A%2210446076%22%2C%22wv%22%3A%226163686%22%2C%22w22%22%3A%22afc-c8junction%22%7D%2C%22Exp%22%3A%221519457036%22%7D%7D%7D; utag_main=_st:1516866835969$dc_visit:6$ses_id:1516862753058%3Bexp-session$dc_event:38%3Bexp-session$dc_region:us-east-1%3Bexp-session; _uetsid=_uet91258090; mp_newegg_mixpanel=%7B%22distinct_id%22%3A%20%2215ffe2bee93119-0642d0b818681a-7b113d-1de935-15ffe2bee948da%22%2C%22g_search_engine%22%3A%20%22google%22%7D; s_sess=%20s_cpc%3D0%3B%20s_evar36%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_eVar37%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_campaign%3Dafc-c8junction-viglink-_-na-_-na-_-na%3B%20s_event53key%3Dmining%2520gpu%3B%20s_event53%3D%3B%20c_m%3Dundefinedwww.google.comNatural%2520Search%3B%20s_stv%3Dmining%2520gpu%3B%20s_evar17%3Dcondition%253Anew%252Cgpu%253Ageforce%2520gtx%25201070%2F1060%252Cgpu%253Ageforce%2520gtx%25201080%252Cgpu%253Aradeon%2520rx%2520480%252Cgpu%253Aradeon%2520rx%2520500%2520series%252Cgpu%253Aradeon%2520vega%2520series%252Cpage%2520viewed%253A1%252Csort%2520by%253Abestmatch%252Cview%2520count%253A36%3B%20s_ev3%3Dnon-internal%2520campaign%3B; s_pers=%20s_ev19%3D%255B%255B%2527natural%25257Cgoogle%2527%252C%25271513530239509%2527%255D%252C%255B%2527afc%2527%252C%25271516862423574%2527%255D%255D%7C1674628823574%3B%20s_cp_persist%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%7C1519454447840%3B%20productnum%3D17%7C1519457026854%3B%20s_vs%3D1%7C1516866849835%3B%20gpv_pv%3Dhome%2520%253E%2520components%2520%253E%2520video%2520cards%2520%2526%2520video%2520devices%2520%253E%2520desktop%2520graphics%2520cards%2520%253E%2520powercolor%2520%253E%2520item%2523%253An82e16814131713%253Aproduct%7C1516866849843%3B%20s_nr%3D1516865049846-Repeat%7C1548401049846%3B%20gpvch%3Dbrowsing%7C1516866849849%3B; s_sq=neweggprod%3D%2526c.%2526a.%2526activitymap.%2526page%253Dhome%252520%25253E%252520components%252520%25253E%252520video%252520cards%252520%252526%252520video%252520devices%252520%25253E%252520desktop%252520graphics%252520cards%252520%25253E%252520powercolor%252520%25253E%252520item%252523%25253An82e16814131713%25253Aproduct%2526link%253DNO%25252C%252520THANKS%2526region%253Dcustom%2526pageIDType%253D1%2526.activitymap%2526.a%2526.c")

			response = urllib2.urlopen(req)
			print 'resposne', response.info()

		except urllib2.URLError, e:
			if not hasattr(e, "code"):
				return False
			print 'Error:', e

def next_cart_step(cart_id):
	response = [None]

	if(request_secure_newegg_com2(response, cart_id)):
		response[0].close()

def request_secure_newegg_com2(response, cart_id):
	response[0] = None

	try:
		# 737%2bH9X8O3XQKI8FERY is an example of cart id
		req = urllib2.Request("https://secure.newegg.com/GlobalShopping/CheckoutStep1.aspx?CartID=" + cart_id)

		req.add_header("Connection", "keep-alive")
		req.add_header("Cache-Control", "max-age=0")
		req.add_header("Origin", "https://secure.newegg.com")
		req.add_header("Upgrade-Insecure-Requests", "1")
		req.add_header("Content-Type", "application/x-www-form-urlencoded")
		req.add_header("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36")
		req.add_header("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8")
		req.add_header("DNT", "1")
		req.add_header("Referer", "https://secure.newegg.com/GlobalShopping/CheckoutStep1.aspx?CartID="+cart_id+"&IsFromCart=1&SkippedSignIn=1")
		req.add_header("Accept-Encoding", "gzip, deflate, br")
		req.add_header("Accept-Language", "en-US,en;q=0.9")
		req.add_header("Cookie", "ADCOOKIE=6; AKA_A2=1; NV%5FSPT=0-0-0; _sckey=mb2-5a1c3438db5172.81670533; _scsess=sess-2-5a1c3438db5950.58470969; s_cc=true; _ga=GA1.2.349633877.1511797813; spid=83326A4F-763C-492B-BDD1-3B57D12377A8; cid_csid=e193ef22-aec3-493e-8da9-4a1840ab5e90; s_vi=[CS]v1|2D0E19F60503160D-6000118B8000090A[CE]; s_fid=3EBE6C2F5D4613E7-1773A1047317E1D7; mt.v=2.55487920.1511797737009; NV%5FCOUNTRY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Value%22%3A%22U%22%2C%22Exp%22%3A%221518583496%22%7D%7D%7D; cto_lwid=0dbaa869-360a-48c6-9c45-fb1a83b72d77; NVTC=248326808.0001.484724142.1511797737.1515993351.1516862152.6; _gid=GA1.2.1707240317.1516862158; sp_ssid=1516862259587; cmp=afc-c8junction; NV%5FNEWGOOGLE%5FANALYTICS=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w14%22%3A%221%22%7D%2C%22Exp%22%3A%221519455221%22%7D%7D%7D; NSC_mc-tfdvsf.ofxfhh.dpn-ttm=30dfa3dbf08cf104cc330dac40f40912fbcdd8b883515a86e48e973f30e69fe5840d12a4; NV%5FPREVIOUSSERVERNAME=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sq%22%3a%22E11SHP02%22%2c%22ss%22%3a%2263%22%2c%22sr%22%3a%22E11%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; NV%5FDVINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22w19%22%3a%22Y%22%2c%22s81%22%3a%2243942530%22%7d%2c%22Exp%22%3a%221516948823%22%7d%7d%7d; NV%5FPRDLIST=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w32%22%3A%22g%22%2C%22wg%22%3A%2236%22%2C%22wn%22%3A%22Y%22%2C%22wl%22%3A%22BESTMATCH%22%7D%2C%22Exp%22%3A%221603265026%22%7D%7D%7D; mt.mbsh=%7B%22fs%22:1516862158356,%22sf%22:1,%22lf%22:1516865027722%7D; s_sess=%20s_cpc%3D0%3B%20s_evar36%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_eVar37%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_campaign%3Dafc-c8junction-viglink-_-na-_-na-_-na%3B%20s_event53key%3Dmining%2520gpu%3B%20s_event53%3D%3B%20c_m%3Dundefinedwww.google.comNatural%2520Search%3B%20s_stv%3Dmining%2520gpu%3B%20s_evar17%3Dcondition%253Anew%252Cgpu%253Ageforce%2520gtx%25201070%2F1060%252Cgpu%253Ageforce%2520gtx%25201080%252Cgpu%253Aradeon%2520rx%2520480%252Cgpu%253Aradeon%2520rx%2520500%2520series%252Cgpu%253Aradeon%2520vega%2520series%252Cpage%2520viewed%253A1%252Csort%2520by%253Abestmatch%252Cview%2520count%253A36%3B%20s_ev3%3Dnon-internal%2520campaign%3B; NV%5FCERTONA=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s92%22%3a%22N82E16814131713%22%7d%2c%22Exp%22%3a%221516951452%22%7d%7d%7d; sr_pp2_exp=2; sr_mc_exp=3; _sr_sp_ses.504d=*; sr_pik_session_id=ad73d9ed-f00d-20a7-9c97-c18d4089b2e1; sr_browser_id=c282c951-c0c5-448a-a446-9703a5437d48; _shcp_=24-236-335,14-131-713; _shcp_pro_=24-236-335,14-131-713; mt.visits=%7B%22lastVisit%22:1516865493848,%22visits%22:%5B1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0%5D%7D; NV%5FCARTINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%222%2bItem(s)%2b%257c%2b%252524539.99%22%2c%22Exp%22%3a%221517470318%22%7d%7d%7d; _sr_sp_id.504d=be06ef8c-525e-4c6b-9d2d-6bbc62242d90.1516865440.1.1516865516.1516865440.c1c0f9e2-1423-468a-b9ac-d9d546558e65; needlepin=N190d1511797813649474ab00162327dd0f4387e1e3ad17e1e48d7000000000000000007e1e3ad100000000000000; ASP.NET_SessionId=01d4rqlus3tp2x1htzxn1s3c; NV%5FORDERCOOKIE=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sv%22%3a%22https%253a%252f%252fwww.newegg.com%252fProduct%252fProduct.aspx%253fItem%253dN82E16814131713%22%2c%22su%22%3a%22False%22%2c%22st%22%3a%22False%22%2c%22s104%22%3a%221%22%2c%22ShipMethods%22%3a%22%255b%257b%2522st%2522%253a2%252c%2522it%2522%253a1%252c%2522si%2522%253a%2522A6V6%2522%252c%2522vn%2522%253a%2522%2522%252c%2522sc%2522%253a%2522501%2522%252c%2522ms%2522%253atrue%257d%252c%257b%2522st%2522%253a10%252c%2522it%2522%253a1%252c%2522si%2522%253a%2522%2522%252c%2522vn%2522%253a%2522%2522%252c%2522sc%2522%253a%2522006%2522%252c%2522ms%2522%253atrue%257d%255d%22%2c%22s10%22%3a%220%257cUSA%22%2c%22sg%22%3a%22WA%22%2c%22se%22%3a%2298294%22%2c%22s101%22%3a%22006%22%7d%2c%22Exp%22%3a%221519457763%22%7d%7d%7d; _gat=1; _uetsid=_uet91258090; mp_newegg_mixpanel=%7B%22distinct_id%22%3A%20%2215ffe2bee93119-0642d0b818681a-7b113d-1de935-15ffe2bee948da%22%2C%22g_search_engine%22%3A%20%22google%22%7D; NV%5FCONFIGURATION=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22w58%22%3a%22USD%22%2c%22w57%22%3a%22USA%22%2c%22wd%22%3a%221%22%2c%22w39%22%3a%226662%22%2c%22w61%22%3a%221543333738000%22%2c%22s93%22%3a%22en%22%2c%22s110%22%3a%22scUpdate%257c%253b14-131-713%252c-1%22%7d%2c%22Exp%22%3a%221603262171%22%7d%7d%7d; NV%5FCUSTOMERLOGIN=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sj%22%3a%220%22%2c%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22codyohlsen%2540gmail.com%22%2c%22sc%22%3a%2243942530%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22s125%22%3a%22essXUNWGEp3vp7ekAR80qt914m7C6d321SrDOZWmS657KubBWb6gwBqPIlqihgQG%22%7d%2c%22Exp%22%3a%222463550571%22%7d%7d%7d; NV%5FOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sc%22%3a%22w4%252bp1%252fVLkVpODIzC8es78p1xV3RH0hzr%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22sg%22%3a%22%252bhcBheqIl38%253d%22%2c%22se%22%3a%22VcB8TDpPCBURbnRvETKYwg%253d%253d%22%2c%22s111%22%3a%220%22%2c%22s115%22%3a%220nNMDJV3VOjhhOc68MAw6Q%253d%253d%22%2c%22sn%22%3a%224969367160267220180124231943%22%7d%2c%22Exp%22%3a%222463550571%22%7d%7d%7d; NV%5FCARTOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s126%22%3a%22sgYEL0P6ilDSFUg92qKTWYw0jtwGUsApJ5G%252fMH%252fE5MYj61HjvOetsQ39Dgt7cjgs%22%2c%22ct1%22%3a%220%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; NV%5FCARTID=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%22737%252bH9X8O3XQKI8FERY%22%2c%22Exp%22%3a%221516949865%22%7d%7d%7d; NV_NVTCTIMESTAMP=1516865771; utag_main=_st:1516867572358$dc_visit:6$ses_id:1516862753058%3Bexp-session$dc_event:43%3Bexp-session$dc_region:us-east-1%3Bexp-session; NV%5FTHIRD%5FPARTY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22wu%22%3A%22https%253A%252F%252Fsecure.newegg.com%252FShopping%252FShoppingCart.aspx%22%2C%22wx%22%3A%22jcu4qi4m87011rh100053%22%2C%22ww%22%3A%2210446076%22%2C%22wv%22%3A%226163686%22%2C%22w22%22%3A%22afc-c8junction%22%7D%2C%22Exp%22%3A%221519457772%22%7D%7D%7D; s_pers=%20s_ev19%3D%255B%255B%2527natural%25257Cgoogle%2527%252C%25271513530239509%2527%255D%252C%255B%2527afc%2527%252C%25271516862423574%2527%255D%255D%7C1674628823574%3B%20s_cp_persist%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%7C1519454447840%3B%20productnum%3D17%7C1519457026854%3B%20gpvch%3Dother%7C1516867233909%3B%20s_vs%3D1%7C1516867622721%3B%20gpv_pv%3Dcheckout_step1_global%7C1516867622742%3B%20s_nr%3D1516865822760-Repeat%7C1548401822760%3B; s_sq=neweggprod%3D%2526c.%2526a.%2526activitymap.%2526page%253Dcheckout_step1_global%2526link%253DCONTINUE%252520TO%252520BILLING%2526region%253DorderSummaryPanelAndPayment%2526pageIDType%253D1%2526.activitymap%2526.a%2526.c")

		body = "SubmitFlag=true&STransNumber=98856489&action=&OldContactWith=&SFirstName=&SLastName=&SCountry_Option=USA&SCompanyName=&SAddress1=&SAddress2=&SCity=&SState_Option=AK&SZip=&ShippingPhone=&SLabel=untitled&saveShipping=on&IsDefault=&SContactWith="

		response[0] = urllib2.urlopen(req, body)
		print 'resposne', response[0].info()

	except urllib2.URLError, e:
		if not hasattr(e, "code"):
			return False
		response[0] = e
	except:
		return False

	return True


def cart_2_step(cart_id):
	response = [None]

	if(request_secure_newegg_com3(response, cart_id)):
		response[0].close()


def request_secure_newegg_com3(response, cart_id):
	response[0] = None

	try:
		req = urllib2.Request("https://secure.newegg.com/GlobalShopping/CheckoutStep2.aspx?CartID="+cart_id)

		req.add_header("Connection", "keep-alive")
		req.add_header("Cache-Control", "max-age=0")
		req.add_header("Upgrade-Insecure-Requests", "1")
		req.add_header("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36")
		req.add_header("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8")
		req.add_header("DNT", "1")
		req.add_header("Referer", "https://secure.newegg.com/GlobalShopping/CheckoutStep1.aspx?CartID=737%2bH9X8O3XQKI8FERY&IsFromCart=1&SkippedSignIn=1")
		req.add_header("Accept-Encoding", "gzip, deflate, br")
		req.add_header("Accept-Language", "en-US,en;q=0.9")
		req.add_header("Cookie", "ADCOOKIE=2; AKA_A2=1; NV%5FSPT=0-0-0; _sckey=mb2-5a1c3438db5172.81670533; _scsess=sess-2-5a1c3438db5950.58470969; s_cc=true; _ga=GA1.2.349633877.1511797813; spid=83326A4F-763C-492B-BDD1-3B57D12377A8; cid_csid=e193ef22-aec3-493e-8da9-4a1840ab5e90; s_vi=[CS]v1|2D0E19F60503160D-6000118B8000090A[CE]; s_fid=3EBE6C2F5D4613E7-1773A1047317E1D7; mt.v=2.55487920.1511797737009; NV%5FCOUNTRY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Value%22%3A%22U%22%2C%22Exp%22%3A%221518583496%22%7D%7D%7D; cto_lwid=0dbaa869-360a-48c6-9c45-fb1a83b72d77; NVTC=248326808.0001.484724142.1511797737.1515993351.1516862152.6; _gid=GA1.2.1707240317.1516862158; sp_ssid=1516862259587; cmp=afc-c8junction; NV%5FNEWGOOGLE%5FANALYTICS=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w14%22%3A%221%22%7D%2C%22Exp%22%3A%221519455221%22%7D%7D%7D; NSC_mc-tfdvsf.ofxfhh.dpn-ttm=30dfa3dbf08cf104cc330dac40f40912fbcdd8b883515a86e48e973f30e69fe5840d12a4; NV%5FPREVIOUSSERVERNAME=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sq%22%3a%22E11SHP02%22%2c%22ss%22%3a%2263%22%2c%22sr%22%3a%22E11%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; NV%5FDVINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22w19%22%3a%22Y%22%2c%22s81%22%3a%2243942530%22%7d%2c%22Exp%22%3a%221516948823%22%7d%7d%7d; NV%5FPRDLIST=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22w32%22%3A%22g%22%2C%22wg%22%3A%2236%22%2C%22wn%22%3A%22Y%22%2C%22wl%22%3A%22BESTMATCH%22%7D%2C%22Exp%22%3A%221603265026%22%7D%7D%7D; mt.mbsh=%7B%22fs%22:1516862158356,%22sf%22:1,%22lf%22:1516865027722%7D; s_sess=%20s_cpc%3D0%3B%20s_evar36%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_eVar37%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%3B%20s_campaign%3Dafc-c8junction-viglink-_-na-_-na-_-na%3B%20s_event53key%3Dmining%2520gpu%3B%20s_event53%3D%3B%20c_m%3Dundefinedwww.google.comNatural%2520Search%3B%20s_stv%3Dmining%2520gpu%3B%20s_evar17%3Dcondition%253Anew%252Cgpu%253Ageforce%2520gtx%25201070%2F1060%252Cgpu%253Ageforce%2520gtx%25201080%252Cgpu%253Aradeon%2520rx%2520480%252Cgpu%253Aradeon%2520rx%2520500%2520series%252Cgpu%253Aradeon%2520vega%2520series%252Cpage%2520viewed%253A1%252Csort%2520by%253Abestmatch%252Cview%2520count%253A36%3B%20s_ev3%3Dnon-internal%2520campaign%3B; NV%5FCERTONA=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s92%22%3a%22N82E16814131713%22%7d%2c%22Exp%22%3a%221516951452%22%7d%7d%7d; sr_pp2_exp=2; sr_mc_exp=3; _sr_sp_ses.504d=*; sr_pik_session_id=ad73d9ed-f00d-20a7-9c97-c18d4089b2e1; sr_browser_id=c282c951-c0c5-448a-a446-9703a5437d48; _shcp_=24-236-335,14-131-713; _shcp_pro_=24-236-335,14-131-713; mt.visits=%7B%22lastVisit%22:1516865493848,%22visits%22:%5B1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0%5D%7D; NV%5FCARTINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%222%2bItem(s)%2b%257c%2b%252524539.99%22%2c%22Exp%22%3a%221517470318%22%7d%7d%7d; _sr_sp_id.504d=be06ef8c-525e-4c6b-9d2d-6bbc62242d90.1516865440.1.1516865516.1516865440.c1c0f9e2-1423-468a-b9ac-d9d546558e65; needlepin=N190d1511797813649474ab00162327dd0f4387e1e3ad17e1e48d7000000000000000007e1e3ad100000000000000; ASP.NET_SessionId=01d4rqlus3tp2x1htzxn1s3c; _uetsid=_uet91258090; mp_newegg_mixpanel=%7B%22distinct_id%22%3A%20%2215ffe2bee93119-0642d0b818681a-7b113d-1de935-15ffe2bee948da%22%2C%22g_search_engine%22%3A%20%22google%22%7D; NV%5FCARTOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22s126%22%3a%22sgYEL0P6ilDSFUg92qKTWYw0jtwGUsApJ5G%252fMH%252fE5MYj61HjvOetsQ39Dgt7cjgs%22%2c%22ct1%22%3a%220%22%7d%2c%22Exp%22%3a%221516949678%22%7d%7d%7d; NV%5FCARTID=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Value%22%3a%22737%252bH9X8O3XQKI8FERY%22%2c%22Exp%22%3a%221516949865%22%7d%7d%7d; NV_NVTCTIMESTAMP=1516865771; utag_main=_st:1516867572358$dc_visit:6$ses_id:1516862753058%3Bexp-session$dc_event:43%3Bexp-session$dc_region:us-east-1%3Bexp-session; NV%5FTHIRD%5FPARTY=#5%7B%22Sites%22%3A%7B%22USA%22%3A%7B%22Values%22%3A%7B%22wu%22%3A%22https%253A%252F%252Fsecure.newegg.com%252FShopping%252FShoppingCart.aspx%22%2C%22wx%22%3A%22jcu4qi4m87011rh100053%22%2C%22ww%22%3A%2210446076%22%2C%22wv%22%3A%226163686%22%2C%22w22%22%3A%22afc-c8junction%22%7D%2C%22Exp%22%3A%221519457772%22%7D%7D%7D; s_pers=%20s_ev19%3D%255B%255B%2527natural%25257Cgoogle%2527%252C%25271513530239509%2527%255D%252C%255B%2527afc%2527%252C%25271516862423574%2527%255D%255D%7C1674628823574%3B%20s_cp_persist%3DAFC-C8Junction-VigLink-_-na-_-na-_-na%7C1519454447840%3B%20productnum%3D17%7C1519457026854%3B%20gpvch%3Dother%7C1516867233909%3B%20s_vs%3D1%7C1516867622721%3B%20gpv_pv%3Dcheckout_step1_global%7C1516867622742%3B%20s_nr%3D1516865822760-Repeat%7C1548401822760%3B; s_sq=neweggprod%3D%2526c.%2526a.%2526activitymap.%2526page%253Dcheckout_step1_global%2526link%253DCONTINUE%252520TO%252520BILLING%2526region%253DorderSummaryPanelAndPayment%2526pageIDType%253D1%2526.activitymap%2526.a%2526.c; NV%5FCONFIGURATION=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22w58%22%3a%22USD%22%2c%22w57%22%3a%22USA%22%2c%22wd%22%3a%221%22%2c%22w39%22%3a%226662%22%2c%22w61%22%3a%221543333738000%22%2c%22s93%22%3a%22en%22%2c%22s110%22%3a%22scUpdate%257c%253b14-131-713%252c-1%22%7d%2c%22Exp%22%3a%221603262225%22%7d%7d%7d; NV%5FCUSTOMERLOGIN=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sj%22%3a%220%22%2c%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22codyohlsen%2540gmail.com%22%2c%22sc%22%3a%2243942530%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22s125%22%3a%22essXUNWGEp3vp7ekAR80qt914m7C6d321SrDOZWmS657KubBWb6gwBqPIlqihgQG%22%7d%2c%22Exp%22%3a%222463550625%22%7d%7d%7d; NV%5FOTHERINFO=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sb%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sd%22%3a%22SVmSNwWPwOIQTcw3lqJk9TfNgf0TRL3DtI2I4QRIFga1vtXP3%252bF4aXvXPQiXbbBE%22%2c%22sc%22%3a%22w4%252bp1%252fVLkVpODIzC8es78p1xV3RH0hzr%22%2c%22si%22%3a%22Cody%2bOhlsen%22%2c%22sg%22%3a%22%252bhcBheqIl38%253d%22%2c%22se%22%3a%22VcB8TDpPCBURbnRvETKYwg%253d%253d%22%2c%22s111%22%3a%220%22%2c%22s115%22%3a%220nNMDJV3VOjhhOc68MAw6Q%253d%253d%22%2c%22sn%22%3a%224969367160267220180124231943%22%7d%2c%22Exp%22%3a%222463550625%22%7d%7d%7d; NV%5FORDERCOOKIE=#5%7b%22Sites%22%3a%7b%22USA%22%3a%7b%22Values%22%3a%7b%22sv%22%3a%22https%253a%252f%252fwww.newegg.com%252fProduct%252fProduct.aspx%253fItem%253dN82E16814131713%22%2c%22su%22%3a%22False%22%2c%22st%22%3a%22False%22%2c%22s104%22%3a%221%22%2c%22ShipMethods%22%3a%22%255b%257b%2522st%2522%253a2%252c%2522it%2522%253a1%252c%2522si%2522%253a%2522A6V6%2522%252c%2522vn%2522%253a%2522%2522%252c%2522sc%2522%253a%2522501%2522%252c%2522ms%2522%253atrue%257d%252c%257b%2522st%2522%253a10%252c%2522it%2522%253a1%252c%2522si%2522%253a%2522%2522%252c%2522vn%2522%253a%2522%2522%252c%2522sc%2522%253a%2522006%2522%252c%2522ms%2522%253atrue%257d%255d%22%2c%22s10%22%3a%220%257cUSA%22%2c%22sg%22%3a%22WA%22%2c%22se%22%3a%2298294%22%2c%22s101%22%3a%22006%22%7d%2c%22Exp%22%3a%221519457825%22%7d%7d%7d")

		response[0] = urllib2.urlopen(req)
		print 'resposne', response[0].info()

	except urllib2.URLError, e:
		if not hasattr(e, "code"):
			return False
		response[0] = e
	except:
		return False

	return True



# next_cart_step('588%2bH9X8O3XQKI8FERY')

